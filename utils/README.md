# Utils

This folder contains utility scripts. Currently, it has the `generate_wallets.sh` script, which generates Ethereum wallets and optionally appends them to our `genesis.json`.

## generate_wallets.sh

### Overview

- **Generates one or more Ethereum wallets** (address + private key).
- **Optionally** appends the addresses to the `alloc` section of a `genesis.json` file if the `-a` flag is used.
- **Outputs** the wallet addresses and private keys to `wallets.txt`.

### Dependencies

- **[Foundry](https://book.getfoundry.sh/)** (for the `cast` command)
- **openssl** (for generating random private keys)
- **jq** (for manipulating JSON when appending to `genesis.json`)

Make sure all these tools are installed and available on your `PATH`.

### Usage

```bash
./generate_wallets.sh <number_of_wallets> [-a]
```

- `<number_of_wallets>`: The number of wallets you want to generate. Must be a positive integer.
- `-a` (optional): If present, the script will attempt to append the new wallet addresses to a `genesis.json` file located at `../docker-compose/reth/network-configs/genesis.json`.

#### Examples

1. **Generate 3 wallets without updating `genesis.json`:**

   ```bash
   ./generate_wallets.sh 3
   ```
   This will create:
   - `wallets.txt` containing addresses & private keys.
   - A helpful snippet you can manually copy-paste into `alloc` if needed.

2. **Generate 2 wallets and auto-append them to `genesis.json`:**

   ```bash
   ./generate_wallets.sh 2 -a
   ```
   - In addition to creating `wallets.txt`, the script will look for `../docker-compose/reth/network-configs/genesis.json`.
   - If found, it backs up the existing file, then appends the newly generated addresses under `.alloc`.
   - **Requires** `jq`. If `jq` is missing, the script will skip the append step.

### Output

1. **Terminal**:
   - Each walletâ€™s address and private key is printed.
   - A JSON snippet for manual insertion into `alloc` if needed.

2. **`wallets.txt`**:
   - Stores all generated addresses and private keys.

3. **`genesis.json`** (if `-a` is used):
   - A backup `genesis_backup_<timestamp>.json` is created.
   - The new addresses are merged into the `.alloc` section.

### Security Note

All private keys generated by this script are stored in **plain text** and should be used **for development purposes only**.  
Do **not** use these keys on mainnet or in any production environment.

